{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":1,"lists":{"npm module":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"Apogee Module Repository","children":{"main":{"name":"main","type":"apogee.Folder","children":{}},"Design":{"name":"Design","type":"apogee.Folder","children":{}}}},"components":{"main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Apogee Model Repository"}]},{"type":"paragraph"}]}},"viewState":{"tabOpened":true}},"Design":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Module Repository Design"}]},{"type":"heading2","content":[{"type":"text","text":"Notes"}]},{"type":"heading3","content":[{"type":"text","text":"Hosting"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"I need to get a permanent URL for the repository. I don't want to change the links - modules.apogeejs.com?"}]},{"type":"listItem","content":[{"type":"text","text":"For starters, I have no real server, even if this is the code. My plan is to run this temporarily. I also want the service to run on static files."}]}]},{"type":"paragraph","content":[{"type":"text","text":"Static file sources:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"Github"}]},{"type":"listItem","content":[{"type":"text","text":"netlify"}]},{"type":"listItem","content":[{"type":"text","text":"azure or other real host"}]}]},{"type":"paragraph","content":[{"type":"text","text":"I'll run off off github only for initial testing. I will switch to netlify so other people can use it with the final URL. Before this goes public I will make a real service that processing inputs."}]},{"type":"paragraph","content":[{"type":"text","text":"Static Design:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"For now, I want to allow two distinct requests - npm and es modules."}]},{"type":"listItem","content":[{"type":"text","text":"Later, I will also want to alter the response based on the version of the app requesting. "},{"type":"text","marks":[{"type":"highlight","attrs":{"color":"yellow"}}],"text":"FOR NOW I WILL IGNORE THAT"}]}]},{"type":"paragraph","content":[{"type":"text","text":"Server Design for Static Site Generation"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"The server will populate the file system and the sqlite database"}]},{"type":"listItem","content":[{"type":"text","text":"I will have a process to call the server and generate the request files. Probably an apogee workspace"}]}]},{"type":"paragraph","content":[{"type":"text","text":"An issue for transitioning the server is that the module request file needs to list the url. And ideally this would be a constant. But we can't do that with our server migration plan. Options for hadling the URL:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","marks":[{"type":"highlight","attrs":{"color":"#a0a0a0"}}],"text":"I can define a relative url in the file, and the program can use that. BUT I really do want a single real url. "}]},{"type":"listItem","content":[{"type":"text","text":"In the server, set it to a constant url, whatever will be the place from which it is accessed. So initially I would set it to github. And you couldn't access the file from the local location. "}]},{"type":"listItem","content":[{"type":"text","text":"I could make a conversion of the host in the workspace that generates the request tile."}]},{"type":"listItem","content":[{"type":"text","text":"I could pass a dummy param in that tells what the hosting server is for the files"}]}]},{"type":"paragraph","content":[{"type":"text","text":"I'll do all three that are not grayed out.  "}]},{"type":"heading2","content":[{"type":"text","text":"Actions"}]},{"type":"heading3","content":[{"type":"text","text":"User management"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"add user"}]},{"type":"listItem","content":[{"type":"text","text":"remove user"}]},{"type":"listItem","content":[{"type":"text","text":"login"}]},{"type":"listItem","content":[{"type":"text","text":"logout"}]},{"type":"listItem","content":[{"type":"text","text":"change password"}]}]},{"type":"heading4","content":[{"type":"text","text":"Validation - get a key to enable certain actions (LATER)"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"request remove user"}]},{"type":"listItem","content":[{"type":"text","text":"request change password"}]},{"type":"listItem","content":[{"type":"text","text":"request delete module"}]},{"type":"listItem","content":[{"type":"text","text":"request delete module version"}]}]},{"type":"heading3","content":[{"type":"text","text":"User Modules"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"get user modules"}]},{"type":"listItem","content":[{"type":"text","text":"get module versions"}]},{"type":"listItem","content":[{"type":"text","text":"add module"}]},{"type":"listItem","content":[{"type":"text","text":"delete module version"}]},{"type":"listItem","content":[{"type":"text","text":"delete module"}]}]},{"type":"heading3","content":[{"type":"text","text":"All Modules"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"get modules"}]},{"type":"listItem","content":[{"type":"text","text":"lookup module"}]}]},{"type":"heading2","content":[{"type":"text","text":"Schema"}]},{"type":"heading3","content":[{"type":"text","text":"User"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"user_id - TBD"}]},{"type":"listItem","content":[{"type":"text","text":"email - text"}]},{"type":"listItem","content":[{"type":"text","text":"user_name - text"}]},{"type":"listItem","content":[{"type":"text","text":"password_hash - (text?)"}]},{"type":"listItem","content":[{"type":"text","text":"status (once a user is deleted it can not be reused) - TBD"}]}]},{"type":"heading3","content":[{"type":"text","text":"Module"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"module_id"}]},{"type":"listItem","content":[{"type":"text","text":"user_id (foreign key)"}]},{"type":"listItem","content":[{"type":"text","text":"module_name - text"}]},{"type":"listItem","content":[{"type":"text","text":"display_name - text"}]},{"type":"listItem","content":[{"type":"text","text":"short_desc - text"}]},{"type":"listItem","content":[{"type":"text","text":"status (once a module is deleted it can not be reused) - TBD"}]}]},{"type":"heading3","content":[{"type":"text","text":"Module Version"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"version_id"}]},{"type":"listItem","content":[{"type":"text","text":"module_id (foreign key)"}]},{"type":"listItem","content":[{"type":"text","text":"module_version - text"}]},{"type":"listItem","content":[{"type":"text","text":"min_app_major_version (for now 2) - int"}]},{"type":"listItem","content":[{"type":"text","text":"min_app_minor_version (for now 0) - int"}]},{"type":"listItem","content":[{"type":"text","text":"max_app_major_version (for now some big number? no max) - int"}]},{"type":"listItem","content":[{"type":"text","text":"es_url - text"}]},{"type":"listItem","content":[{"type":"text","text":"npm_name (should match module name) - text"}]},{"type":"listItem","content":[{"type":"text","text":"npm_url (if a tgz file is available away from npm) text"}]},{"type":"listItem","content":[{"type":"text","text":"esWorkspaces (json/text) - text"}]},{"type":"listItem","content":[{"type":"text","text":"npmWorkspaces (json/text) - text"}]},{"type":"listItem","content":[{"type":"text","text":"web_link - text"}]},{"type":"listItem","content":[{"type":"text","text":"status (once version is deleted it can not be reused) - TBD"}]}]},{"type":"paragraph"}]}},"viewState":{"childDisplayState":null,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}